var Utilities,IView;(function(n,t){typeof exports=="object"&&typeof module!="undefined"?t():typeof define=="function"&&define.amd?define(t):t()})(this,function(){"use strict";function f(n){var t=this.constructor;return this.then(function(i){return t.resolve(n()).then(function(){return i})},function(i){return t.resolve(n()).then(function(){return t.reject(i)})})}function h(){}function c(n,t){return function(){n.apply(t,arguments)}}function n(t){if(!(this instanceof n))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0;this._handled=!1;this._value=undefined;this._deferreds=[];o(t,this)}function e(i,u){while(i._state===3)i=i._value;if(i._state===0){i._deferreds.push(u);return}i._handled=!0;n._immediateFn(function(){var n=i._state===1?u.onFulfilled:u.onRejected,f;if(n===null){(i._state===1?r:t)(u.promise,i._value);return}try{f=n(i._value)}catch(e){t(u.promise,e);return}r(u.promise,f)})}function r(i,r){try{if(r===i)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var f=r.then;if(r instanceof n){i._state=3;i._value=r;u(i);return}if(typeof f=="function"){o(c(f,r),i);return}}i._state=1;i._value=r;u(i)}catch(e){t(i,e)}}function t(n,t){n._state=2;n._value=t;u(n)}function u(t){t._state===2&&t._deferreds.length===0&&n._immediateFn(function(){t._handled||n._unhandledRejectionFn(t._value)});for(var i=0,r=t._deferreds.length;i<r;i++)e(t,t._deferreds[i]);t._deferreds=null}function l(n,t,i){this.onFulfilled=typeof n=="function"?n:null;this.onRejected=typeof t=="function"?t:null;this.promise=i}function o(n,i){var u=!1;try{n(function(n){u||(u=!0,r(i,n))},function(n){u||(u=!0,t(i,n))})}catch(f){if(u)return;u=!0;t(i,f)}}var s=setTimeout,i;n.prototype["catch"]=function(n){return this.then(null,n)};n.prototype.then=function(n,t){var i=new this.constructor(h);return e(this,new l(n,t,i)),i};n.prototype["finally"]=f;n.all=function(t){return new n(function(n,i){function e(t,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var o=u.then;if(typeof o=="function"){o.call(u,function(n){e(t,n)},i);return}}r[t]=u;--f==0&&n(r)}catch(s){i(s)}}var r,f,u;if(!t||typeof t.length=="undefined")throw new TypeError("Promise.all accepts an array");if(r=Array.prototype.slice.call(t),r.length===0)return n([]);for(f=r.length,u=0;u<r.length;u++)e(u,r[u])})};n.resolve=function(t){return t&&typeof t=="object"&&t.constructor===n?t:new n(function(n){n(t)})};n.reject=function(t){return new n(function(n,i){i(t)})};n.race=function(t){return new n(function(n,i){for(var r=0,u=t.length;r<u;r++)t[r].then(n,i)})};n._immediateFn=typeof setImmediate=="function"&&function(n){setImmediate(n)}||function(n){s(n,0)};n._unhandledRejectionFn=function(n){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",n)};i=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object");}();"Promise"in i?i.Promise.prototype["finally"]||(i.Promise.prototype["finally"]=f):i.Promise=n}),function(n){"use strict";function f(n){if(typeof n!="string"&&(n=String(n)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(n))throw new TypeError("Invalid character in header field name");return n.toLowerCase()}function s(n){return typeof n!="string"&&(n=String(n)),n}function e(n){var t={next:function(){var t=n.shift();return{done:t===undefined,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function t(n){this.map={};n instanceof t?n.forEach(function(n,t){this.append(t,n)},this):Array.isArray(n)?n.forEach(function(n){this.append(n[0],n[1])},this):n&&Object.getOwnPropertyNames(n).forEach(function(t){this.append(t,n[t])},this)}function o(n){if(n.bodyUsed)return Promise.reject(new TypeError("Already read"));n.bodyUsed=!0}function h(n){return new Promise(function(t,i){n.onload=function(){t(n.result)};n.onerror=function(){i(n.error)}})}function b(n){var t=new FileReader,i=h(t);return t.readAsArrayBuffer(n),i}function k(n){var t=new FileReader,i=h(t);return t.readAsText(n),i}function d(n){for(var i=new Uint8Array(n),r=new Array(i.length),t=0;t<i.length;t++)r[t]=String.fromCharCode(i[t]);return r.join("")}function c(n){if(n.slice)return n.slice(0);var t=new Uint8Array(n.byteLength);return t.set(new Uint8Array(n)),t.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(n){if(this._bodyInit=n,n)if(typeof n=="string")this._bodyText=n;else if(i.blob&&Blob.prototype.isPrototypeOf(n))this._bodyBlob=n;else if(i.formData&&FormData.prototype.isPrototypeOf(n))this._bodyFormData=n;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(n))this._bodyText=n.toString();else if(i.arrayBuffer&&i.blob&&p(n))this._bodyArrayBuffer=c(n.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else if(i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(n)||w(n)))this._bodyArrayBuffer=c(n);else throw new Error("unsupported BodyInit type");else this._bodyText="";this.headers.get("content-type")||(typeof n=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(n)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var n=o(this);if(n)return n;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var n=o(this);if(n)return n;if(this._bodyBlob)return k(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(d(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");else return Promise.resolve(this._bodyText)},i.formData&&(this.formData=function(){return this.text().then(nt)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(n){var t=n.toUpperCase();return a.indexOf(t)>-1?t:n}function u(n,i){i=i||{};var r=i.body;if(n instanceof u){if(n.bodyUsed)throw new TypeError("Already read");this.url=n.url;this.credentials=n.credentials;i.headers||(this.headers=new t(n.headers));this.method=n.method;this.mode=n.mode;r||n._bodyInit==null||(r=n._bodyInit,n.bodyUsed=!0)}else this.url=String(n);if(this.credentials=i.credentials||this.credentials||"omit",(i.headers||!this.headers)&&(this.headers=new t(i.headers)),this.method=g(i.method||this.method||"GET"),this.mode=i.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function nt(n){var t=new FormData;return n.trim().split("&").forEach(function(n){if(n){var i=n.split("="),r=i.shift().replace(/\+/g," "),u=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(u))}}),t}function tt(n){var i=new t,r=n.replace(/\r?\n[\t ]+/g," ");return r.split(/\r?\n/).forEach(function(n){var t=n.split(":"),r=t.shift().trim(),u;r&&(u=t.join(":").trim(),i.append(r,u))}),i}function r(n,i){i||(i={});this.type="default";this.status=i.status===undefined?200:i.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in i?i.statusText:"OK";this.headers=new t(i.headers);this.url=i.url||"";this._initBody(n)}var i,a,v;if(!n.fetch){if(i={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(n){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n},i.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=function(n){return n&&DataView.prototype.isPrototypeOf(n)},w=ArrayBuffer.isView||function(n){return n&&y.indexOf(Object.prototype.toString.call(n))>-1};t.prototype.append=function(n,t){n=f(n);t=s(t);var i=this.map[n];this.map[n]=i?i+","+t:t};t.prototype["delete"]=function(n){delete this.map[f(n)]};t.prototype.get=function(n){return n=f(n),this.has(n)?this.map[n]:null};t.prototype.has=function(n){return this.map.hasOwnProperty(f(n))};t.prototype.set=function(n,t){this.map[f(n)]=s(t)};t.prototype.forEach=function(n,t){for(var i in this.map)this.map.hasOwnProperty(i)&&n.call(t,this.map[i],i,this)};t.prototype.keys=function(){var n=[];return this.forEach(function(t,i){n.push(i)}),e(n)};t.prototype.values=function(){var n=[];return this.forEach(function(t){n.push(t)}),e(n)};t.prototype.entries=function(){var n=[];return this.forEach(function(t,i){n.push([i,t])}),e(n)};i.iterable&&(t.prototype[Symbol.iterator]=t.prototype.entries);a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];u.prototype.clone=function(){return new u(this,{body:this._bodyInit})};l.call(u.prototype);l.call(r.prototype);r.prototype.clone=function(){return new r(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new t(this.headers),url:this.url})};r.error=function(){var n=new r(null,{status:0,statusText:""});return n.type="error",n};v=[301,302,303,307,308];r.redirect=function(n,t){if(v.indexOf(t)===-1)throw new RangeError("Invalid status code");return new r(null,{status:t,headers:{location:n}})};n.Headers=t;n.Request=u;n.Response=r;n.fetch=function(n,t){return new Promise(function(f,e){var s=new u(n,t),o=new XMLHttpRequest;o.onload=function(){var n={status:o.status,statusText:o.statusText,headers:tt(o.getAllResponseHeaders()||"")},t;n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");t="response"in o?o.response:o.responseText;f(new r(t,n))};o.onerror=function(){e(new TypeError("Network request failed"))};o.ontimeout=function(){e(new TypeError("Network request failed"))};o.open(s.method,s.url,!0);s.credentials==="include"?o.withCredentials=!0:s.credentials==="omit"&&(o.withCredentials=!1);"responseType"in o&&i.blob&&(o.responseType="blob");s.headers.forEach(function(n,t){o.setRequestHeader(t,n)});o.send(typeof s._bodyInit=="undefined"?null:s._bodyInit)})};n.fetch.polyfill=!0}}(typeof self!="undefined"?self:this),function(n){function t(n){typeof n=="string"&&(n=document.getElementById(n));n.classList.add("hide");n.classList.remove("show");n.classList.remove("show-inline");n.classList.remove("show-flex")}function i(n){typeof n=="string"&&(n=document.getElementById(n));n.classList.add("show");n.classList.remove("hide");n.classList.remove("show-inline");n.classList.remove("show-flex")}function l(n){typeof n=="string"&&(n=document.getElementById(n));n.classList.add("show-inline");n.classList.remove("hide");n.classList.remove("show");n.classList.remove("show-flex")}function a(n){typeof n=="string"&&(n=document.getElementById(n));n.classList.add("show-inline-flex");n.classList.remove("hide");n.classList.remove("show");n.classList.remove("show-flex")}function v(n){typeof n=="string"&&(n=document.getElementById(n));n.classList.add("show-flex");n.classList.remove("hide");n.classList.remove("show-inline");n.classList.remove("show")}function e(n,u,f){var e,o,s;typeof n=="string"&&(n=document.getElementById(n));u&&(r(n),e=document.createElement("div"),e.classList.add("notification"),e.classList.add("is-danger"),o=document.createElement("button"),o.classList.add("delete"),o.onclick=function(){t(n)},e.appendChild(o),Array.isArray(u)?(s=document.createElement("ul"),u.forEach(function(n){var t=document.createElement("li");t.appendChild(document.createTextNode(n));s.appendChild(t)}),e.appendChild(s)):e.appendChild(document.createTextNode(u)),n.appendChild(e));i(n);(f==undefined||f===!0)&&window.setTimeout(function(){t(n)},1e4)}function r(n){if(n!==null&&n!==undefined)while(n.firstChild)n.removeChild(n.firstChild)}function y(n,t,i){i===void 0&&(i=!1);var r=document.createElement("option");return r.value=n,r.text=t,r.selected=i,r}function o(n){return typeof n=="string"&&(n=document.getElementById(n)),n.value}function p(n,t){typeof n=="string"&&(n=document.getElementById(n));n.value=t}function u(n,t){typeof n=="string"&&(n=document.getElementById(n));r(n);n.appendChild(document.createTextNode(t))}function s(n){var u=n.replace("nav-",""),r=document.querySelectorAll("#menuTabs > li > a"),t,i;if(r.length>0)for(t=0;t<r.length;t++)i=r.item(t),i.id===n?i.parentElement.classList.add("is-active"):i.parentElement.classList.remove("is-active");f("#views > section",u)}function w(n,t,i){h(n,"nav-"+i);f(t,i)}function h(n,t){var u=document.querySelectorAll(n),i,r;if(u.length>0)for(i=0;i<u.length;i++)r=u.item(i),r.id===t?r.classList.add("is-active"):r.classList.remove("is-active")}function f(n,r){var e=document.querySelectorAll(n),u,f;if(e.length>0)for(u=0;u<e.length;u++)f=e.item(u),f.id===r?i(f):t(f)}function b(n){return fetch(n,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-cache",credentials:"include"}).then(function(n){if(!n.ok)throw new Error(n.statusText);return n.json()})}function k(n,t){return fetch(n,{method:"POST",body:JSON.stringify(t),cache:"no-cache",headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(n){if(!n.ok)throw new Error(n.statusText);return n.json()})}function d(n,t){return fetch(n,{method:"POST",body:t!==null?JSON.stringify(t):"",cache:"no-cache",headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(n){return n})}function g(n){return n.toLocaleString("en-US",{style:"currency",currency:"USD"})}function nt(n){return n instanceof Date?n.toLocaleDateString("en-us"):new Date(n).toLocaleDateString("en-US")}function tt(n){return n instanceof Date?n.toLocaleString("en-us"):new Date(n).toLocaleString("en-US")}function it(n,t,i){var r,u;return(typeof n=="string"&&(n=document.getElementById(n)),r=n,r.tagName.toLowerCase()==="select"?r.parentElement.classList.remove("is-danger"):r.classList.remove("is-danger"),u=o(r).trim(),u.length==0)?(r.tagName.toLowerCase()==="select"?r.parentElement.classList.add("is-danger"):r.classList.add("is-danger"),e(t,i),r.focus(),r.scrollTo(),""):u}function rt(n,t){typeof n=="string"&&(n=document.getElementById(n));var i=n;i.disabled=t;i.classList.toggle("is-loading",t)}function ut(n){var u=document.createElement("li"),t,i,f,o,r,e,s;if(n.selected&&u.classList.add("is-active"),t=document.createElement("a"),t.id=n.id,t.onclick=function(){c(n)},n.icon.length>0){for(i=document.createElement("span"),i.classList.add("icon"),i.classList.add("is-medium"),f=document.createElement("i"),o=n.icon.split(" "),r=0,e=o;r<e.length;r++)s=e[r],f.classList.add(s);i.appendChild(f);t.appendChild(i)}return t.appendChild(document.createTextNode(n.label)),u.appendChild(t),u}function c(n){u("menuTitle",n.title);u("menuSubTitle",n.subTitle);s(n.id);document.getElementById(n.autofocusId).focus()}function ft(t,i){for(var f,e=document.getElementById(t),r=0,u=i;r<u.length;r++)f=u[r],e.appendChild(n.Create_Menu_Element(f))}function et(){return(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))!=-1?"Opera":navigator.userAgent.indexOf("Chrome")!=-1?"Chrome":navigator.userAgent.indexOf("Safari")!=-1?"Safari":navigator.userAgent.indexOf("Firefox")!=-1?"Firefox":navigator.userAgent.indexOf("MSIE")!=-1||!!document.DOCUMENT_NODE==!0?"IE":"unknown"}function ot(n){var t="/",i=window.location.pathname.toLowerCase().indexOf(n);return i==0&&(t=n+"/"),t}n.Hide=t;n.Show=i;n.Show_Inline=l;n.Show_Inline_Flex=a;n.Show_Flex=v;n.Error_Show=e;n.Clear_Element=r;n.Create_Option=y;n.Get_Value=o;n.Set_Value=p;n.Set_Text=u;n.Show_Menu=s;n.Handle_Tabs=w;n.Activate_Inactivate_Selector=h;n.Show_Hide_Selector=f;n.Get=b;n.Post=k;n.Post_Empty=d;n.Format_Amount=g;n.Format_Date=nt;n.Format_DateTime=tt;n.Validate_Text=it;n.Toggle_Loading_Button=rt;n.Create_Menu_Element=ut;n.Update_Menu=c;n.Build_Menu_Elements=ft;n.CheckBrowser=et;n.Get_Path=ot}(Utilities||(Utilities={})),function(n){var t=function(){function t(){}return t.GetUnits=function(){var t=Utilities.Get_Path("/inspectionview");Utilities.Get(t+"API/Unit/List").then(function(t){n.allUnits=t;n.mapController.UpdateUnitLayer(t)},function(){console.log("error getting units");n.allUnits=[]})},t.UnitView=function(n){var t=document.createElement("ol"),i=document.createElement("li");return i.appendChild(document.createTextNode("Date Last Updated: "+Utilities.Format_DateTime(n.Date_Last_Communicated))),t.appendChild(i),t.outerHTML},t}();n.Unit=t}(IView||(IView={})),function(n){var t=function(){function t(i){this.mapDiv=i;this.isDrawing=!1;var r=this;require(["esri/map","esri/layers/ArcGISDynamicMapServiceLayer","esri/layers/GraphicsLayer","esri/dijit/HomeButton","dojo/_base/array","dojo/parser","esri/Color","dijit/layout/BorderContainer","esri/toolbars/draw","dojo/domReady!"],function(u,f,e,o,s,h,c,l,a){var v=new esri.geometry.Extent(-82.313954162595579,29.752280075700344,-81.28604583740163,30.14732756963145,new esri.SpatialReference({wkid:4326})),b={basemap:"osm",zoom:11,logo:!1,extent:v},y,p,w;r.map=new u(i,b);r.map.on("load",function(t){r.drawToolbar=new a(t.map,{showTooltips:!1});r.drawToolbar.on("DrawEnd",n.FindItemsInExtent);console.log("map loaded");n.mapLoadCompleted()});y={opacity:.3};p=new o({map:r.map,extent:v},"HomeButton");p.startup();w=new f("https://maps.claycountygov.com:6443/arcgis/rest/services/Building/MapServer",y);n.location_layer=new e;n.location_layer.id="locations";n.location_layer.on("click",function(i){i!==undefined&&(n.last_symbol_color=i.graphic.symbol.color,n.last_selected_graphic=i.graphic,i.graphic.symbol.color=new c([255,0,0,1]),n.location_layer.redraw(),t.GetLocation(i.graphic.attributes.LookupKey))});n.unit_layer=new e;n.unit_layer.id="units";r.map.addLayers([w,n.location_layer,n.unit_layer])})}return t.GetLocation=function(t){var i=n.filteredLocations.filter(function(n){return n.lookup_key===t});i.length!==0&&(n.current_location=i[0],console.log("location found",i[0]),n.mapController.CenterOnPoint(i[0].point_to_use),i[0].LocationView())},t.prototype.ToggleDraw=function(n){n===void 0&&(n=null);var t=this;require(["esri/toolbars/draw"],function(i){t.isDrawing=n!==null?n:!t.isDrawing;t.isDrawing?t.drawToolbar.activate(i.EXTENT):t.drawToolbar.deactivate()})},t.prototype.UpdateUnitLayer=function(t){require(["esri/layers/GraphicsLayer","esri/geometry/Point","esri/symbols/SimpleMarkerSymbol","esri/symbols/PictureMarkerSymbol","esri/graphic","esri/SpatialReference","esri/Color","esri/InfoTemplate","esri/geometry/webMercatorUtils","esri/symbols/TextSymbol"],function(i,r,u,f,e,o,s,h,c,l){var d,g,w,v,nt,b,a,y,tt,p,k,it;for(n.unit_layer.clear(),d=function(t){g=new r([t.Longitude,t.Latitude],new o({wkid:4326}));w=c.geographicToWebMercator(g);v=new h;v.setTitle("Vehicle: "+t.Name);v.setContent(function(){var i=n.Unit.UnitView(t);return console.log("html info template",i),i});nt=new f({angle:0,xoffset:0,yoffset:0,type:"esriPMS",url:t.Unit_Icon_URL,contentType:"image/png",width:30,height:30});b=new e(w,nt);b.setInfoTemplate(v);n.unit_layer.add(b);a=new l(t.Name);a.setColor(new dojo.Color([0,100,0]));a.setOffset(0,-20);a.setAlign(l.ALIGN_MIDDLE);y=new esri.symbol.Font;y.setSize("10pt");y.setWeight(esri.symbol.Font.WEIGHT_BOLD);a.setFont(y);tt=new e(w,a);n.unit_layer.add(tt)},p=0,k=t;p<k.length;p++)it=k[p],d(it);n.unit_layer.show()})},t.prototype.UpdateLocationLayer=function(t){require(["esri/layers/GraphicsLayer","esri/geometry/Point","esri/symbols/SimpleMarkerSymbol","esri/graphic","esri/SpatialReference","esri/Color","esri/InfoTemplate","esri/geometry/webMercatorUtils","esri/symbols/TextSymbol"],function(i,r,u,f,e,o,s,h,c){var v,w,y,b,a,p,g;for(n.location_layer.clear(),v=0,w=t;v<w.length;v++){var l=w[v],k=l.point_to_use,nt=new r([k.Longitude,k.Latitude],new e({wkid:4326})),d=h.geographicToWebMercator(nt);for(y=0;y<l.icons.length;y++)b=new f(d,l.icons[y]),b.setAttributes({LookupKey:l.lookup_key}),n.location_layer.add(b);l.inspections.length>1&&(a=new c(l.inspections.length.toString()),a.setColor(new dojo.Color([0,100,0])),a.setOffset(0,-20),a.setAlign(c.ALIGN_MIDDLE),p=new esri.symbol.Font,p.setSize("10pt"),p.setWeight(esri.symbol.Font.WEIGHT_BOLD),a.setFont(p),g=new f(d,a),n.location_layer.add(g))}n.location_layer.show()})},t.prototype.FindItemsInExtent=function(t){var r=this,u=this.map,i=[];return require(["esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/Color"],function(r){for(var u,f,e=0,o=n.location_layer.graphics;e<o.length;e++)u=o[e],t.contains(u.geometry)&&u.attributes&&u.attributes.LookupKey&&(f=new r,f.color=u.symbol.color,f.size=u.symbol.size,f.style=r.STYLE_CROSS,f.outline=u.symbol.outline,u.setSymbol(f),i.indexOf(u.attributes.LookupKey)===-1&&i.push(u.attributes.LookupKey))}),r.isDrawing=!1,r.drawToolbar.deactivate(),i},t.prototype.CenterAndZoom=function(n){var i=this,t=this.map;require(["esri/geometry/Point"],function(i){var r=new i([n.Longitude,n.Latitude]);t.centerAndZoom(r,18)})},t.prototype.CenterOnPoint=function(n){var i=this,t=this.map;require(["esri/geometry/Point"],function(i){var r=new i([n.Longitude,n.Latitude]);t.centerAt(r)})},t.prototype.GetCurrentZoom=function(){var n=document.getElementById("map"),t=n.getAttribute("data-zoom");return parseInt(t)},t}();n.MapController=t}(IView||(IView={})),function(n){var t=function(){function t(t){if(this.lookup_key="",this.point_to_use=null,this.icons=[],this.valid_inspectors=[],this.inspections=[],this.all_inspections=[],this.has_commercial=!1,this.has_residential=!1,this.has_private_provider=!1,this.can_be_bulk_assigned=!0,this.assigned_inspectors=[],this.RBL=!1,this.CBL=!1,this.REL=!1,this.CEL=!1,this.RME=!1,this.CME=!1,this.RPL=!1,this.CPL=!1,this.Fire=!1,this.inspections=t,t.length!==0){var i=t[0];this.lookup_key=i.LookupKey;this.point_to_use=i.PointToUse;this.UpdateFlags();this.CreateIcons();this.AddValidInspectors(n.allInspectors)}}return t.prototype.UpdateFlags=function(){var t,i,n;for(this.assigned_inspectors=[],t=0,i=this.inspections;t<i.length;t++)n=i[t],n.CanBeAssigned||(this.can_be_bulk_assigned=!1),n.IsCommercial?this.has_commercial=!0:this.has_residential=!0,n.IsPrivateProvider&&(this.has_private_provider=!0),this.assigned_inspectors.indexOf(n.InspectorName)===-1&&(this.assigned_inspectors.push(n.InspectorName),this[n.InspectorName]={commercial:0,residential:0,hexcolor:n.Color}),n.IsCommercial?this[n.InspectorName].commercial+=1:this[n.InspectorName].residential+=1,n.RBL&&(this.RBL=!0),n.CBL&&(this.CBL=!0),n.REL&&(this.REL=!0),n.CEL&&(this.CEL=!0),n.RME&&(this.RME=!0),n.CME&&(this.CME=!0),n.RPL&&(this.RPL=!0),n.CPL&&(this.CPL=!0),n.Fire&&(this.Fire=!0)},t.prototype.AddValidInspectors=function(n){if(this.can_be_bulk_assigned){var t=this;this.valid_inspectors=n.filter(function(n){return(t.RBL===n.RBL==!0||!t.RBL)&&(t.CBL===n.CBL==!0||!t.CBL)&&(t.REL===n.REL==!0||!t.REL)&&(t.CEL===n.CEL==!0||!t.CEL)&&(t.RME===n.RME==!0||!t.RME)&&(t.CME===n.CME==!0||!t.CME)&&(t.RPL===n.RPL==!0||!t.RPL)&&(t.CPL===n.CPL==!0||!t.CPL)&&(t.Fire===n.Fire==!0||!t.Fire)});this.valid_inspectors.length===0&&(this.can_be_bulk_assigned=!1)}},t.prototype.CreateIcons=function(){var i=0,f=this.GetOffsets(),e,n,t,r,o,u;for(this.assigned_inspectors.length>1&&(i=1),e=function(t){var r,u,e;if(i>f.length)return{value:void 0};r="";r=n[t].commercial>0&&n[t].residential>0?"esriSMSDiamond":n[t].commercial>0?"esriSMSSquare":"esriSMSCircle";u=n.CreateIcon(r,n[t].hexcolor,f[i++]);e=n;u.then(function(n){e.icons.push(n)})},n=this,t=0,r=this.assigned_inspectors;t<r.length;t++)if(o=r[t],u=e(o),typeof u=="object")return u.value},t.prototype.CreateIcon=function(n,t,i,r){r===void 0&&(r=12);var u=new dojo.Deferred;return require(["esri/symbols/SimpleMarkerSymbol","esri/Color"],function(f,e){var o=new f({color:e.fromHex(t),size:r,angle:0,xoffset:i[0],yoffset:i[1],type:"esriSMS",style:n,outline:{color:[0,0,0,255],width:1,type:"esriSLS",style:"esriSLSSolid"}});u.resolve(o)}),u},t.prototype.GetOffsets=function(){return[[0,0],[-4,0],[4,0],[0,-4],[0,4],[-4,4],[4,-4],[-4,-4],[4,4]]},t.CreateLocations=function(i){var l=i.length.toString(),r,u,e,o,h,f,s,c;for(Utilities.Set_Text(document.getElementById("inspectionCount"),l),r=[],n.filteredLocations=[],u=0,e=i;u<e.length;u++)o=e[u],r.indexOf(o.LookupKey)===-1&&r.push(o.LookupKey);for(h=function(r){var u=i.filter(function(n){return n.LookupKey===r});n.filteredLocations.push(new t(u))},f=0,s=r;f<s.length;f++)c=s[f],h(c);n.dataLoaded=!0;n.BuildAndLoadInitialLayers()},t.prototype.LocationView=function(){var i=document.getElementById("locationAddress"),n,t;Utilities.Clear_Element(i);Utilities.Set_Text(i,this.Address());n=document.getElementById("bulkAssignInspectionsContainer");console.log("Location View Test This",this);this.can_be_bulk_assigned?(Utilities.Show(n),this.UpdateBulkAssignmentDropdown()):Utilities.Hide(n);t=document.getElementById("locationInfoContainer");Utilities.Clear_Element(t);t.appendChild(this.CreateInspectionTable());document.getElementById("locationInfo").classList.add("is-active")},t.prototype.Address=function(){var n=this.inspections[0];return n.StreetAddressCombined+", "+n.City+", "+n.Zip},t.prototype.CreateInspectionTable=function(){var n=document.createElement("table"),i,t,r,u;for(n.classList.add("table"),n.classList.add("is-fullwidth"),n.appendChild(this.CreateInspectionTableHeading()),i=document.createElement("tbody"),t=0,r=this.inspections;t<r.length;t++)u=r[t],i.appendChild(this.CreateInspectionRow(u));return n.appendChild(i),n},t.prototype.CreateInspectionTableHeading=function(){var t=document.createElement("thead"),n=document.createElement("tr");return n.appendChild(this.CreateTableCell(!0,"Permit")),n.appendChild(this.CreateTableCell(!0,"Scheduled")),n.appendChild(this.CreateTableCell(!0,"Inspection Type")),n.appendChild(this.CreateTableCell(!0,"Kind")),n.appendChild(this.CreateTableCell(!0,"Private Provider")),n.appendChild(this.CreateTableCell(!0,"Status")),n.appendChild(this.CreateTableCell(!0,"Assigned")),t.appendChild(n),t},t.prototype.CreateTableCell=function(n,t,i){i===void 0&&(i="");var r=document.createElement(n?"th":"td");return i.length>0&&r.classList.add(i),r.appendChild(document.createTextNode(t)),r},t.prototype.CreateTableCellLink=function(n,t,i){var r,u;return i===void 0&&(i=""),r=document.createElement("td"),i.length>0&&r.classList.add(i),u=document.createElement("a"),u.href=t,u.appendChild(document.createTextNode(n)),r.appendChild(u),r},t.prototype.CreateInspectionRow=function(n){var t=document.createElement("tr"),r="/InspectionScheduler/#permit="+n.PermitNo+"&inspectionid="+n.InspReqID,i;return t.appendChild(this.CreateTableCellLink(n.PermitNo,r)),t.appendChild(this.CreateTableCell(!1,Utilities.Format_Date(n.ScheduledDate))),t.appendChild(this.CreateTableCell(!1,n.InspectionCode+" "+n.InspectionDescription)),t.appendChild(this.CreateTableCell(!1,n.IsCommercial?"Commercial":"Residential")),t.appendChild(this.CreateTableCell(!1,n.IsPrivateProvider?"Yes":"No")),t.appendChild(this.CreateTableCell(!1,n.IsCompleted?"Completed":"Incomplete")),n.IsCompleted?t.appendChild(this.CreateTableCell(!1,n.InspectorName)):(i=document.createElement("td"),i.appendChild(this.CreateInspectorDropdown(n)),t.appendChild(i)),t},t.prototype.CreateInspectorDropdown=function(t){var o=document.createElement("div"),r,u,f,s,e,i;for(o.classList.add("control"),r=document.createElement("div"),r.classList.add("select"),u=document.createElement("select"),f=0,s=t.ValidInspectors;f<s.length;f++)e=s[f],i=document.createElement("option"),i.value=e.Name,i.selected=e.Name===t.InspectorName,i.appendChild(document.createTextNode(e.Name)),u.appendChild(i);return u.onchange=function(i){var r=n.allInspectors.filter(function(n){return n.Name===Utilities.Get_Value(i.srcElement)}),e=i.srcElement.parentElement,u,f;r.length===1&&(u=r[0].Id,f=[t.InspReqID],n.Inspection.BulkAssign(u,f,e))},r.appendChild(u),o.appendChild(r),o},t.prototype.UpdateBulkAssignmentDropdown=function(){var r=document.getElementById("bulkAssignInspections"),n,i,u,f,t;for(Utilities.Clear_Element(r),n=document.createElement("option"),n.value="",n.selected=!0,n.appendChild(document.createTextNode("Select Inspector")),r.appendChild(n),i=0,u=this.valid_inspectors;i<u.length;i++)f=u[i],t=document.createElement("option"),t.value=f.Name,t.selected=!1,t.appendChild(document.createTextNode(f.Name)),r.appendChild(t)},t}();n.Location=t}(IView||(IView={})),function(n){var t=function(){function n(n){var i,t,r;for(this.InspectionId=0,i=n.split("&"),t=0;t<i.length;t++){r=i[t].split("=");switch(r[0].toLowerCase()){case"inspectionid":this.InspectionId=parseInt(r[1])}}}return n.prototype.ToHash=function(){var n="";return this.InspectionId>0&&(n+="&inspectionid="+this.InspectionId.toString()),n.length>0&&(n="#"+n.substring(1)),n},n}();n.LocationHash=t}(IView||(IView={})),function(n){var t=function(){function t(){this.CurrentCount=0}return t.GetAllInspectors=function(){Utilities.Toggle_Loading_Button("refreshButton",!0);Utilities.Toggle_Loading_Button("filterButton",!0);var i=Utilities.Get_Path("/inspectionview");Utilities.Get(i+"API/Inspectors/List").then(function(i){console.log("inspectors",i);n.allInspectors=i;t.BuildBulkAssignDropdown(i);n.Inspection.GetInspections();t.BuildInspectorList();n.LoadDefaultsFromCookie();window.setInterval(n.Inspection.GetInspections,3e5);window.setInterval(n.Unit.GetUnits,6e4);t.GetInspectorsToEdit()},function(){console.log("error getting inspectors");n.allInspectors=[]})},t.GetInspectorsToEdit=function(){var t=Utilities.Get_Path("/inspectionview");Utilities.Get(t+"API/Inspectors/Edit").then(function(t){console.log("inspectors to edit",t);n.inspectors_to_edit=t;t.length>0&&Utilities.Show_Flex("editInspectors")},function(){console.log("error getting inspectors");n.allInspectors=[]})},t.BuildBulkAssignDropdown=function(n){for(var r,t,f=document.getElementById("bulkAssignSelect"),i=0,u=n;i<u.length;i++)r=u[i],t=document.createElement("option"),t.value=r.Id.toString(),t.appendChild(document.createTextNode(r.Name)),f.appendChild(t)},t.BuildInspectorList=function(){var r=document.getElementById("inspectorList"),i,u,f;for(Utilities.Clear_Element(r),r.appendChild(t.AddInspector("All")),i=0,u=n.allInspectors;i<u.length;i++)f=u[i],r.appendChild(t.AddInspector(f.Name));n.FilterInputEvents()},t.AddInspector=function(n){var r=document.createDocumentFragment(),i=document.createElement("label"),t;return i.classList.add("label"),i.classList.add("checkbox"),i.classList.add("is-medium"),t=document.createElement("input"),t.type="checkbox",t.classList.add("checkbox"),t.classList.add("is-medium"),t.name="inspectorFilter",t.value=n,t.checked=n==="All",i.appendChild(t),i.appendChild(document.createTextNode(n)),r.appendChild(i),r},t.BuildInspectorControl=function(){},t.UpdateCurrentCount=function(n,t){for(var f,r=[],e=function(n){n.CurrentCount=0;r=t.filter(function(t){return t.InspectorName===n.Name});n.CurrentCount=r.length},i=0,u=n;i<u.length;i++)f=u[i],e(f)},t}();n.Inspector=t}(IView||(IView={})),function(n){var t=function(){function t(){this.Age=-1;this.ValidInspectors=[]}return t.GetValidInspectors=function(t){return n.allInspectors.filter(function(n){return(t.RBL===n.RBL==!0||!t.RBL)&&(t.CBL===n.CBL==!0||!t.CBL)&&(t.REL===n.REL==!0||!t.REL)&&(t.CEL===n.CEL==!0||!t.CEL)&&(t.RME===n.RME==!0||!t.RME)&&(t.CME===n.CME==!0||!t.CME)&&(t.RPL===n.RPL==!0||!t.RPL)&&(t.CPL===n.CPL==!0||!t.CPL)&&(t.Fire===n.Fire==!0||!t.Fire)})},t.GetInspections=function(){Utilities.Toggle_Loading_Button("refreshButton",!0);Utilities.Toggle_Loading_Button("filterButton",!0);var i=Utilities.Get_Path("/inspectionview");Utilities.Get(i+"API/Inspections/GetInspections").then(function(n){t.HandleInspections(n);Utilities.Toggle_Loading_Button("refreshButton",!1);Utilities.Toggle_Loading_Button("filterButton",!1)},function(t){console.log("error getting inspectors",t);n.allInspectors=[];Utilities.Toggle_Loading_Button("refreshButton",!1);Utilities.Toggle_Loading_Button("filterButton",!1)})},t.HandleInspections=function(i){for(var f,e,r=0,u=i;r<u.length;r++)f=u[r],f.ValidInspectors=t.GetValidInspectors(f);n.allInspections=i;n.Location.CreateLocations(n.ApplyFilters(i));n.current_location!==null&&(e=n.filteredLocations.filter(function(t){return t.lookup_key===n.current_location.lookup_key}),e.length===1&&(n.current_location=e[0],n.current_location.LocationView()))},t.BulkAssign=function(n,i,r){var u;r===void 0&&(r=undefined);r&&r.classList.add("is-loading");u=document.getElementById("bulkAssignButton");Utilities.Toggle_Loading_Button(u,!0);var f=Utilities.Get_Path("/inspectionview"),e={InspectorId:n,InspectionIds:i},o=Utilities.Post(f+"API/Assign/BulkAssign/",e).then(function(n){if(Utilities.Toggle_Loading_Button(u,!1),n.length===0){alert("Server error in Bulk Assign.");return}t.HandleInspections(n);r&&r.classList.remove("is-loading")},function(n){console.log("error in Bulk Assign",n);Utilities.Toggle_Loading_Button(u,!1);r&&r.classList.remove("is-loading")})},t}();n.Inspection=t}(IView||(IView={})),function(n){function l(){n.mapController=new n.MapController("map");n.Inspector.GetAllInspectors()}function a(){var f=t("inspection_status_filter"),e=t("day_filter"),o=t("permit_kind_filter"),s=t("private_provider_only"),h=t("invalid_address_only"),c=t("permit_type_filter"),l=t("inspector_filter"),y=t("show_bulk_assign"),i,a,p,u,v,w;for(console.log(f,e,o,s,h,c,l),f!==null&&(n.inspection_status_filter=f),e!==null&&(n.day_filter=e),o!==null&&(n.permit_kind_filter=o),s!==null&&(n.private_provider_only=s.toLowerCase()==="true"),h!==null&&(n.invalid_address_only=h.toLowerCase()==="true"),c!==null&&(n.permit_type_filter=c.split(",")),l!==null&&(n.inspector_filter=l.split(",")),y!==null&&(n.show_bulk_assign=y.toLowerCase()==="true"),n.show_bulk_assign?Utilities.Show("BulkAssignContainer"):Utilities.Hide("BulkAssignContainer"),document.querySelector("input[name='inspectionStatus'][value='"+n.inspection_status_filter+"']").checked=!0,document.querySelector("input[name='inspectionDay'][value='"+n.day_filter+"']").checked=!0,document.querySelector("input[name='commercialResidential'][value='"+n.permit_kind_filter+"']").checked=!0,document.getElementById("privateProviderFilter").checked=n.private_provider_only,document.getElementById("invalidAddressFilter").checked=n.invalid_address_only,r("input[name='inspectorFilter']",!1),i=0,a=n.inspector_filter;i<a.length;i++)p=a[i],document.querySelector("input[name='inspectorFilter'][value='"+p+"']").checked=!0;for(r("input[name='permitType']",!1),u=0,v=n.permit_type_filter;u<v.length;u++)w=v[u],document.querySelector("input[name='permitType'][value='"+w+"']").checked=!0}function v(){o();i("inspection_status_filter",n.inspection_status_filter);i("day_filter",n.day_filter);i("permit_kind_filter",n.permit_kind_filter);i("private_provider_only",n.private_provider_only.toString());i("invalid_address_only",n.invalid_address_only.toString());i("permit_type_filter",n.permit_type_filter.join(","));i("inspector_filter",n.inspector_filter.join(","));i("show_bulk_assign",n.show_bulk_assign.toString())}function t(n){var i="; "+document.cookie,t=i.split("; inspectionview_"+n+"=");return t.length==2?t.pop().split(";").shift():null}function i(n,t){var u=(new Date).getFullYear()+1,i=new Date,r;i.setFullYear(u);r="inspectionview_"+n+"="+t+"; expires="+i.toUTCString()+"; path="+Utilities.Get_Path("/inspectionview");document.cookie=r}function y(){n.day_filter="today";n.inspection_status_filter="open";n.permit_kind_filter="all";n.permit_type_filter=[];n.inspector_filter=[];n.private_provider_only=!1;n.invalid_address_only=!1;document.querySelector("input[name='inspectionStatus'][value='open']").checked=!0;document.querySelector("input[name='inspectionDay'][value='today']").checked=!0;document.querySelector("input[name='commercialResidential'][value='all']").checked=!0;document.getElementById("privateProviderFilter").checked=!1;document.getElementById("invalidAddressFilter").checked=!1;r("input[name='inspectorFilter']",!1);document.querySelector("input[name='inspectorFilter'][value='All']").checked=!0;r("input[name='permitType']",!1);document.querySelector("input[name='permitType'][value='all']").checked=!0;n.Location.CreateLocations(u(n.allInspections))}function p(t){t==="inspectors"?(n.inspector_toggle_status=!n.inspector_toggle_status,r("input[name='inspectorFilter']",n.inspector_toggle_status)):(n.permit_types_toggle_status=!n.permit_types_toggle_status,r("input[name='permitType']",n.permit_types_toggle_status));n.Location.CreateLocations(u(n.allInspections))}function w(){n.show_bulk_assign=!n.show_bulk_assign;n.show_bulk_assign?Utilities.Show("BulkAssignContainer"):Utilities.Hide("BulkAssignContainer")}function r(n,t){for(var r=document.querySelectorAll(n),i=0;i<r.length;i++)r.item(i).checked=t}function b(){for(var i=document.querySelectorAll("#filters input"),t=0;t<i.length;t++)i.item(t).addEventListener("click",function(){n.Location.CreateLocations(u(n.allInspections))})}function o(){n.inspection_status_filter=f('input[name="inspectionStatus"]:checked');n.day_filter=f('input[name="inspectionDay"]:checked');n.permit_kind_filter=f('input[name="commercialResidential"]:checked');n.private_provider_only=document.getElementById("privateProviderFilter").checked;n.invalid_address_only=document.getElementById("invalidAddressFilter").checked;n.permit_type_filter=s('input[name="permitType"]:checked');n.inspector_filter=s('input[name="inspectorFilter"]:checked')}function u(t){var i,r,u;return o(),i=t,n.inspection_status_filter!=="all"&&(r=n.inspection_status_filter!=="open",i=n.allInspections.filter(function(n){return n.IsCompleted===r})),n.day_filter!=="all"&&(i=n.day_filter!=="prior"?i.filter(function(t){return t.ScheduledDay===n.day_filter}):i.filter(function(n){return n.Age>0})),n.permit_kind_filter!=="all"&&(u=n.permit_kind_filter==="commercial",i=i.filter(function(n){return n.IsCommercial===u})),n.permit_type_filter.indexOf("all")===-1&&(i=i.filter(function(t){return n.permit_type_filter.indexOf(t.PermitNo.substr(0,1))!==-1})),n.private_provider_only&&(i=i.filter(function(n){return n.IsPrivateProvider})),n.invalid_address_only&&(i=i.filter(function(n){return!n.AddressPoint.IsValid||!n.ParcelPoint.IsValid})),n.inspector_filter.indexOf("All")===-1&&(i=i.filter(function(t){return n.inspector_filter.indexOf(t.InspectorName)!==-1})),n.Inspector.UpdateCurrentCount(n.allInspectors,i),k(n.allInspectors.filter(function(n){return n.CurrentCount>0})),i}function k(n){var o=document.getElementById("InspectorList"),r,e,i,t,u,f;for(Utilities.Clear_Element(o),r=0,e=n;r<e.length;r++)i=e[r],t=document.createElement("li"),t.style.color=i.Id===0?"black":"white",t.style.paddingLeft="1em",t.style.paddingRight="1em",t.style.backgroundColor=i.Color,t.style.display="flex",t.style.justifyContent="space-between",u=document.createElement("span"),u.appendChild(document.createTextNode(i.Name)),u.style.textAlign="left",f=document.createElement("span"),f.appendChild(document.createTextNode(i.CurrentCount.toString())),f.style.textAlign="right",t.appendChild(u),t.appendChild(f),o.appendChild(t)}function f(n){return document.querySelector(n).value}function s(n){for(var i=document.querySelectorAll(n),r=[],t=0;t<i.length;t++)r.push(i.item(t).value);return r}function e(){var u=location.hash,i=new n.LocationHash(location.hash.substring(1)),t,r;i.InspectionId>0&&(t=n.allInspections.filter(function(n){return n.InspReqID===i.InspectionId}),t.length>0&&(console.log("inspection based on passed id",t,"inspection point to use",t[0].PointToUse),n.mapController.CenterAndZoom(t[0].PointToUse),r=n.allInspections.filter(function(n){return n.PointToUse.Latitude===t[0].PointToUse.Latitude}),console.log("all points",r)))}function d(){n.mapLoaded=!0;console.log("map load completed");h()}function h(){n.mapLoaded&&n.dataLoaded&&(window.onhashchange=e,e(),n.mapController.UpdateLocationLayer(n.filteredLocations),n.Unit.GetUnits())}function g(){var t=document.getElementById("bulkAssignSelect"),r=document.getElementById("bulkAssignButton"),i=Utilities.Get_Value(t);if(i==="-1"){Utilities.Error_Show("bulkAssignError","Please choose an inspector.",!0);return}n.mapController.ToggleDraw()}function nt(){document.getElementById("filters").classList.add("is-active")}function tt(){document.getElementById("inspectorEdit").classList.add("is-active")}function it(){n.current_location=null;var t=n.last_selected_graphic.symbol,i=n.last_symbol_color;window.setTimeout(function(){t.color=i;n.location_layer.redraw()},1e4);c()}function c(){var t=document.querySelectorAll(".modal"),n,i;if(t.length>0)for(n=0;n<t.length;n++)i=t.item(n),i.classList.remove("is-active")}function rt(t){var i,r,u,f,e;n.current_location!==null&&(i=Utilities.Get_Value(t.srcElement),i.length!==0)&&(r=n.allInspectors.filter(function(n){return n.Name===i}),u=t.srcElement.parentElement,r.length===1&&(f=r[0].Id,e=n.current_location.inspections.map(function(n){return n.InspReqID}),n.Inspection.BulkAssign(f,e,u)))}function ut(t){var i=n.mapController.FindItemsInExtent(t),r=parseInt(document.getElementById("bulkAssignSelect").value);ft(r,i)}function ft(t,i){for(var u,f=[],r=0,e=n.allInspections;r<e.length;r++)u=e[r],i.indexOf(u.LookupKey)!==-1&&f.push(u.InspReqID);n.Inspection.BulkAssign(t,f)}n.allInspections=[];n.inspectors_to_edit=[];n.allInspectors=[];n.allUnits=[];n.filteredLocations=[];n.current_location=null;n.day_filter="today";n.inspection_status_filter="open";n.permit_kind_filter="all";n.permit_type_filter=[];n.inspector_filter=[];n.private_provider_only=!1;n.invalid_address_only=!1;n.show_bulk_assign=!0;n.permit_types_toggle_status=!1;n.inspector_toggle_status=!1;n.mapLoaded=!1;n.dataLoaded=!1;n.Start=l;n.LoadDefaultsFromCookie=a;n.SaveCookie=v;n.ResetFilters=y;n.Toggle_Group=p;n.Toggle_Bulk_Assign=w;n.FilterInputEvents=b;n.ApplyFilters=u;n.HandleHash=e;n.mapLoadCompleted=d;n.BuildAndLoadInitialLayers=h;n.DrawToggle=g;n.ShowFilters=nt;n.ShowInspectors=tt;n.CloseLocationModal=it;n.CloseModals=c;n.Bulk_Assign_Location=rt;n.FindItemsInExtent=ut}(IView||(IView={}));